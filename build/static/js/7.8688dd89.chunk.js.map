{"version":3,"sources":["views/invoice-generator/invoice-generator.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","common/pdfExport.js"],"names":["pdfMake","vfs","pdfFonts","InvoiceGenerator","props","state","invoice","imgSrc","uuid","title","invoiceNo","randomNumber","invoiceDate","dueDate","invoiceFrom","invoiceTo","items","discounts","shipping","terms","footNote","currency","item","quantity","rate","gst","amount","invoices","localStorage","getItem","JSON","parse","docDefinition","backgroundColor","watermark","text","opacity","bold","italics","pageSize","pageOrientation","defaultSettings","defaultTemplate","defaultCurrency","handleHrefClick","e","stopPropagation","preventDefault","target","tagName","setState","find","s","i","handleUserInput","name","value","prevState","handleChange","event","map","index","getSubtotal","reduce","sum","Number","toFixed","getTotal","setDefaultValue","def","handleRemoveItem","idx","filter","handleRemoveInvoice","window","confirm","setItem","stringify","handleRemoveImage","handleRemoveImageDefaultSetting","setLocalStorage","handleNewInvoice","push","saveInvoice","currentUuid","Object","assign","unshift","onImageChange","files","fileCount","length","file","reader","FileReader","self","onload","result","readAsDataURL","downloadInvoice","obj","pdfExport","openInvoice","printInvoice","bind","this","location","addItem","Fragment","className","style","src","alt","type","onClick","accept","id","onChange","maxLength","placeholder","min","htmlFor","rows","required","scope","key","getAmount","disabled","readOnly","role","aria-label","icon","faDownload","faFilePdf","faPrint","slice","href","data-toggle","aria-haspopup","aria-expanded","faEllipsisV","aria-labelledby","Math","random","toString","substring","Date","now","max","floor","totalAmount","gstAmount","grossAmount","Component","_defineProperty","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","setSettings","getTemplateWithDef","createPdf","download","open","print","docDef","generateDocDef","generateDocDefTemplate2","generateDocDefTemplate3","generateDocDefTemplate4","generateDocDefTemplate5","itemBody","alignment","element","color","info","author","subject","keywords","footer","currentPage","pageCount","canvas","x","y","w","width","h","table","widths","body","fontSize","margin","layout","header","content","columns","image","height","lineHeight","headerRows","fillColor","rowIndex","node","columnIndex","x1","y1","x2","y2","lineWidth","styles","subheader","tableExample","tableHeader","defaultStyle","columnGap","tableLayouts","exampleLayout","hLineWidth","vLineWidth","hLineColor","paddingLeft","paddingRight","paddingTop","paddingBottom","dontBreakRows","background","totalLayout","reportDate","toDateString","stack","pageMargins"],"mappings":"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","file":"static/js/7.8688dd89.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport pdfExport from \"../../common/pdfExport\";\r\n\r\nimport {\r\n  faDownload,\r\n  faFilePdf,\r\n  faPrint,\r\n  faEllipsisV,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nclass InvoiceGenerator extends Component {\r\n  state = {\r\n    invoice: {\r\n      imgSrc: \"\",\r\n      uuid: this.uuid(),\r\n      title: \"INVOICE\",\r\n      invoiceNo: this.randomNumber(1, 999999),\r\n      invoiceDate: \"\",\r\n      dueDate: \"\",\r\n      invoiceFrom: \"\",\r\n      invoiceTo: \"\",\r\n      items: [],\r\n      discounts: 0,\r\n      shipping: 0,\r\n      terms: \"\",\r\n      footNote: \"\",\r\n      currency: \"USD\",\r\n    },\r\n    item: {\r\n      title: \"\",\r\n      quantity: 1,\r\n      rate: 1,\r\n      gst: 0,\r\n      amount: 0,\r\n    },\r\n    invoices: localStorage.getItem(\"invoices\")\r\n      ? JSON.parse(localStorage.getItem(\"invoices\"))\r\n      : [],\r\n    docDefinition: localStorage.getItem(\"docDefinition\")\r\n      ? JSON.parse(localStorage.getItem(\"docDefinition\"))\r\n      : {\r\n          backgroundColor: \"#0069D9\",\r\n          watermark: {\r\n            text: \"\",\r\n            opacity: 0.3,\r\n            bold: false,\r\n            italics: false,\r\n          },\r\n          pageSize: \"A4\",\r\n          pageOrientation: \"portrait\",\r\n        },\r\n    defaultSettings: localStorage.getItem(\"defaultSettings\")\r\n      ? JSON.parse(localStorage.getItem(\"defaultSettings\"))\r\n      : {\r\n          imgSrc: \"\",\r\n          invoiceFrom: \"\",\r\n          terms: \"\",\r\n          footNote: \"\",\r\n          defaultTemplate: \"temp1\",\r\n          defaultCurrency: \"USD\",\r\n        },\r\n\r\n    pageSize: [\r\n      \"4A0\",\r\n      \"2A0\",\r\n      \"A0\",\r\n      \"A1\",\r\n      \"A2\",\r\n      \"A3\",\r\n      \"A4\",\r\n      \"A5\",\r\n      \"A6\",\r\n      \"A7\",\r\n      \"A8\",\r\n      \"A9\",\r\n      \"A10\",\r\n    ],\r\n    pageOrientation: [\"portrait\", \"landscape\"],\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleUserInput = this.handleUserInput.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleHrefClick = this.handleHrefClick.bind(this);\r\n    this.handleRemoveInvoice = this.handleRemoveInvoice.bind(this);\r\n    this.saveInvoice = this.saveInvoice.bind(this);\r\n    this.openInvoice = this.openInvoice.bind(this);\r\n    this.printInvoice = this.printInvoice.bind(this);\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props?.location?.state?.uuid) {\r\n      this.setState({\r\n        invoice: this.state.invoices.find(\r\n          (s, i) => s.uuid === this.props?.location?.state?.uuid\r\n        ),\r\n      });\r\n    } else {\r\n      this.addItem();\r\n      this.setDefaultValue();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      imgSrc,\r\n      uuid,\r\n      title,\r\n      invoiceNo,\r\n      invoiceDate,\r\n      dueDate,\r\n      invoiceFrom,\r\n      invoiceTo,\r\n      items,\r\n      discounts,\r\n      shipping,\r\n      terms,\r\n      footNote,\r\n    } = this.state.invoice;\r\n    const { invoices } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\" style={{ backgroundColor: \"#eee\" }}>\r\n          <div className=\"col-md-10\">\r\n            <div className=\"papers\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      {imgSrc !== \"\" && (\r\n                        <div>\r\n                          <React.Fragment>\r\n                            <img\r\n                              src={imgSrc}\r\n                              className=\"mr-3 rounded preview-image\"\r\n                              alt=\"\"\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Remove logo\"\r\n                              onClick={this.handleRemoveImage}\r\n                              className=\"btn btn-dark btn-sm preview-image-remove\"\r\n                            >\r\n                              &times;\r\n                            </button>\r\n                          </React.Fragment>\r\n                        </div>\r\n                      )}\r\n                      {imgSrc === \"\" && (\r\n                        <div className=\"custom-file1 files color\">\r\n                          <input\r\n                            type=\"file\"\r\n                            className=\"custom-file-input1 form-control-sm\"\r\n                            accept=\"image/x-png,image/jpg,image/jpeg\"\r\n                            id=\"customFile\"\r\n                            onChange={this.onImageChange}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                      <div className=\"input-group\">\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"title\"\r\n                          maxLength=\"20\"\r\n                          placeholder=\"Invoice\"\r\n                          className=\"form-control\"\r\n                          value={title}\r\n                          onChange={this.handleUserInput}\r\n                        />\r\n                        <div className=\"input-group-prepend\">\r\n                          <div className=\"input-group-text\">#</div>\r\n                        </div>\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          className=\"form-control\"\r\n                          name=\"invoiceNo\"\r\n                          value={invoiceNo}\r\n                          onChange={this.handleUserInput}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12 mt-2\">\r\n                      <div className=\"input-group input-group-sm\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <div className=\"input-group-text\">Invoice Date:</div>\r\n                        </div>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control\"\r\n                          name=\"invoiceDate\"\r\n                          value={invoiceDate}\r\n                          onChange={(event) => this.handleUserInput(event)}\r\n                        />\r\n                        <div className=\"input-group-prepend\">\r\n                          <div className=\"input-group-text\">Due Date:</div>\r\n                        </div>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control\"\r\n                          name=\"dueDate\"\r\n                          value={dueDate}\r\n                          onChange={(event) => this.handleUserInput(event)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"invoiceFrom\">Invoice from</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"invoiceFrom\"\r\n                      name=\"invoiceFrom\"\r\n                      rows=\"3\"\r\n                      required\r\n                      placeholder=\"Who is this invoice from? (required)\"\r\n                      value={invoiceFrom}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"invoiceTo\">Invoice to</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"invoiceTo\"\r\n                      name=\"invoiceTo\"\r\n                      rows=\"3\"\r\n                      required\r\n                      placeholder=\"Who is this invoice to? (required)\"\r\n                      value={invoiceTo}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-striped table-hover table-sm\">\r\n                      <caption>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-primary btn-sm\"\r\n                          onClick={(event) => this.addItem(event)}\r\n                        >\r\n                          &#43; Add Item\r\n                        </button>\r\n                      </caption>\r\n                      <thead>\r\n                        <tr className=\"d-flex\">\r\n                          <th className=\"col-md-1\" scope=\"col\">\r\n                            #\r\n                          </th>\r\n                          <th className=\"col-md-4\" scope=\"col\">\r\n                            Item\r\n                          </th>\r\n                          <th className=\"col-md-2\" scope=\"col\">\r\n                            Quantity\r\n                          </th>\r\n                          <th className=\"col-md-2\" scope=\"col\">\r\n                            Rate ({this.state.invoice.currency || \"USD\"})\r\n                          </th>\r\n                          <th className=\"col-md-1\" scope=\"col\">\r\n                            GST\r\n                          </th>\r\n                          <th className=\"col-md-2\" scope=\"col\">\r\n                            Amount ({this.state.invoice.currency || \"USD\"})\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {items.map((item, index) => (\r\n                          <tr key={index} className=\"d-flex\">\r\n                            <th className=\"col-md-1\" scope=\"row\">\r\n                              {index + 1}\r\n                              <button\r\n                                type=\"button\"\r\n                                title=\"Remove\"\r\n                                onClick={this.handleRemoveItem(index)}\r\n                                className=\"btn btn-danger btn-sm float-right\"\r\n                              >\r\n                                &times;\r\n                              </button>\r\n                            </th>\r\n                            <td className=\"col-md-4\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control form-control-sm\"\r\n                                placeholder=\"Description of service or product...\"\r\n                                name=\"title\"\r\n                                value={item.title}\r\n                                onChange={this.handleChange(index)}\r\n                              />\r\n                            </td>\r\n                            <td className=\"col-md-2\">\r\n                              <input\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                className=\"form-control form-control-sm\"\r\n                                placeholder=\"Quantity\"\r\n                                name=\"quantity\"\r\n                                value={item.quantity}\r\n                                onChange={this.handleChange(index)}\r\n                              />\r\n                            </td>\r\n                            <td className=\"col-md-2\">\r\n                              <input\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                className=\"form-control form-control-sm\"\r\n                                placeholder=\"Rate\"\r\n                                name=\"rate\"\r\n                                value={item.rate}\r\n                                onChange={this.handleChange(index)}\r\n                              />\r\n                            </td>\r\n                            <td className=\"col-md-1\">\r\n                              <div className=\"input-group input-group-sm\">\r\n                                <input\r\n                                  type=\"number\"\r\n                                  min=\"0\"\r\n                                  className=\"form-control \"\r\n                                  name=\"gst\"\r\n                                  value={item.gst}\r\n                                  onChange={this.handleChange(index)}\r\n                                />\r\n                                <div className=\"input-group-append\">\r\n                                  <div className=\"input-group-text pr-1 pl-1\">\r\n                                    %\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"col-md-2\">{this.getAmount(item)}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-7\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"terms\">Terms</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"terms\"\r\n                      name=\"terms\"\r\n                      rows=\"2\"\r\n                      required\r\n                      placeholder=\"Terms and conditions - late fees, payment methods, delivery schedule\"\r\n                      value={terms}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    ></textarea>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"footNote\">Foot Note</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"footNote\"\r\n                      name=\"footNote\"\r\n                      rows=\"2\"\r\n                      required\r\n                      placeholder=\"Thank you for your business\"\r\n                      value={footNote}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-5 form-inline\">\r\n                  <div className=\"form-group ml-auto mb-2\">\r\n                    <label>Subtotal</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control mx-sm-3\"\r\n                      disabled\r\n                      readOnly\r\n                      value={this.getSubtotal(items)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group ml-auto mb-2\">\r\n                    <label>Discounts</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      className=\"form-control mx-sm-3\"\r\n                      name=\"discounts\"\r\n                      value={discounts || 0}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group ml-auto mb-2\">\r\n                    <label>Shipping</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      className=\"form-control mx-sm-3\"\r\n                      name=\"shipping\"\r\n                      value={shipping || 0}\r\n                      onChange={(event) => this.handleUserInput(event)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group ml-auto mb-2\">\r\n                    <label>\r\n                      Total ({this.state.invoice.currency || \"USD\"})\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control mx-sm-3\"\r\n                      disabled\r\n                      readOnly\r\n                      value={this.getTotal(items, discounts, shipping)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-2\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary btn-sm btn-block\"\r\n              onClick={this.saveInvoice}\r\n            >\r\n              Save Invoice\r\n            </button>\r\n\r\n            <div\r\n              className=\"btn-group btn-block mb-3\"\r\n              role=\"group\"\r\n              aria-label=\"Basic example\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-sm\"\r\n                title=\"Download\"\r\n                onClick={() => this.downloadInvoice(this.state.invoice)}\r\n              >\r\n                <FontAwesomeIcon icon={faDownload} />\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-sm\"\r\n                title=\"Open PDF File\"\r\n                onClick={() => this.openInvoice(this.state.invoice)}\r\n              >\r\n                <FontAwesomeIcon icon={faFilePdf} />\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-sm\"\r\n                title=\"Print\"\r\n                onClick={() => this.printInvoice(this.state.invoice)}\r\n              >\r\n                <FontAwesomeIcon icon={faPrint} />\r\n              </button>\r\n            </div>\r\n\r\n            <div>\r\n              <h6>\r\n                My Invoice{\" \"}\r\n                <span className=\"badge badge-primary\">{invoices.length}</span>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"New Invoice\"\r\n                  onClick={this.handleNewInvoice}\r\n                  className=\"btn btn-outline-primary btn-sm float-right pr-1 pl-1 p-0\"\r\n                >\r\n                  New\r\n                </button>\r\n              </h6>\r\n              <hr></hr>\r\n              <div>\r\n                <div className=\"list-group\">\r\n                  {invoices.slice(0, 10).map((item, index) => (\r\n                    <a\r\n                      key={item.uuid + index}\r\n                      href=\"#!\"\r\n                      className={`list-group-item list-group-item-action ${\r\n                        item.uuid === uuid ? \"active\" : \"\"\r\n                      }`}\r\n                      onClick={(event) =>\r\n                        this.handleHrefClick(event, item.uuid)\r\n                      }\r\n                    >\r\n                      {item.invoiceNo}{\" \"}\r\n                      <div className=\"dropdown float-right\">\r\n                        <button\r\n                          className=\"btn btn-sm btn-secondary dropdown-toggle1\"\r\n                          type=\"button\"\r\n                          id=\"dropdownMenuButton\"\r\n                          data-toggle=\"dropdown\"\r\n                          aria-haspopup=\"true\"\r\n                          aria-expanded=\"false\"\r\n                        >\r\n                          <FontAwesomeIcon icon={faEllipsisV} />\r\n                        </button>\r\n                        <div\r\n                          className=\"dropdown-menu dropdown-menu-right\"\r\n                          aria-labelledby=\"dropdownMenuButton\"\r\n                        >\r\n                          <React.Fragment>\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Download Invoice\"\r\n                              onClick={() => this.downloadInvoice(item)}\r\n                              className=\"dropdown-item\"\r\n                            >\r\n                              Download\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Open PDF Invoice\"\r\n                              onClick={() => this.openInvoice(item)}\r\n                              className=\"dropdown-item\"\r\n                            >\r\n                              Open PDF\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Print Invoice\"\r\n                              onClick={() => this.printInvoice(item)}\r\n                              className=\"dropdown-item\"\r\n                            >\r\n                              Print\r\n                            </button>\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Delete Invoice\"\r\n                              onClick={() => this.handleRemoveInvoice(index)}\r\n                              className=\"dropdown-item text-danger\"\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </React.Fragment>\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  uuid() {\r\n    return Math.random().toString(36).substring(2) + Date.now().toString(36);\r\n  }\r\n\r\n  randomNumber(min, max) {\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n  }\r\n\r\n  handleHrefClick = (e, uuid) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const target = e.target;\r\n    if (\r\n      (target === null || target === void 0 ? void 0 : target.tagName) === \"A\"\r\n    ) {\r\n      this.setState({\r\n        invoice: this.state.invoices.find((s, i) => s.uuid === uuid),\r\n      });\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleUserInput = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState((prevState) => {\r\n      return {\r\n        invoice: {\r\n          ...prevState.invoice,\r\n          [name]: value,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  handleChange = (i) => (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    var state = { ...this.state };\r\n    state.invoice.items = state.invoice.items.map((item, index) => {\r\n      if (i !== index) return item;\r\n      if (name === \"quantity\" || name === \"rate\" || name === \"gst\") {\r\n        return { ...item, [name]: value };\r\n      } else {\r\n        return { ...item, [name]: value };\r\n      }\r\n    });\r\n    this.setState({ state });\r\n  };\r\n\r\n  getSubtotal = (items) =>\r\n    items\r\n      .reduce((sum, item) => Number(sum) + Number(item.amount), 0)\r\n      .toFixed(2);\r\n\r\n  getTotal = (items, discounts, shipping) =>\r\n    (\r\n      this.getSubtotal(items) -\r\n      Number(discounts || 0) +\r\n      Number(shipping || 0)\r\n    ).toFixed(2);\r\n\r\n  addItem() {\r\n    var state = { ...this.state };\r\n    state.invoice.items.push(this.state.item);\r\n    this.setState({ state });\r\n  }\r\n\r\n  setDefaultValue = () => {\r\n    if (localStorage.getItem(\"defaultSettings\")) {\r\n      let def = JSON.parse(localStorage.getItem(\"defaultSettings\"));\r\n      var state = { ...this.state };\r\n      state.invoice.imgSrc = def.imgSrc;\r\n      state.invoice.invoiceFrom = def.invoiceFrom;\r\n      state.invoice.terms = def.terms;\r\n      state.invoice.footNote = def.footNote;\r\n      state.invoice.currency = def.defaultCurrency;\r\n      this.setState({ state });\r\n    }\r\n  };\r\n\r\n  handleRemoveItem = (idx) => () => {\r\n    var state = { ...this.state };\r\n    state.invoice.items = this.state.invoice.items.filter((s, i) => idx !== i);\r\n    this.setState({ state });\r\n  };\r\n\r\n  handleRemoveInvoice = (idx) => {\r\n    if (window.confirm(\"Are you sure you wish to delete this invoice?\")) {\r\n      let { invoices } = this.state;\r\n      invoices = this.state.invoices.filter((s, i) => idx !== i);\r\n      this.setState({ invoices });\r\n      localStorage.setItem(\"invoices\", JSON.stringify(invoices));\r\n    }\r\n  };\r\n\r\n  handleRemoveImage = () => {\r\n    let { invoice } = this.state;\r\n    invoice.imgSrc = \"\";\r\n    this.setState({ invoice });\r\n  };\r\n\r\n  handleRemoveImageDefaultSetting = () => {\r\n    let { defaultSettings } = this.state;\r\n    defaultSettings.imgSrc = \"\";\r\n    this.setState({ defaultSettings }, () =>\r\n      this.setLocalStorage(\"defaultSettings\", defaultSettings)\r\n    );\r\n  };\r\n\r\n  handleNewInvoice = () => {\r\n    let { invoice } = this.state;\r\n    invoice = {\r\n      imgSrc: \"\",\r\n      uuid: this.uuid(),\r\n      title: \"INVOICE\",\r\n      invoiceNo: this.randomNumber(1, 999999),\r\n      invoiceDate: \"\",\r\n      dueDate: \"\",\r\n      invoiceFrom: \"\",\r\n      invoiceTo: \"\",\r\n      items: [],\r\n      discounts: 0,\r\n      shipping: 0,\r\n      terms: \"\",\r\n      footNote: \"\",\r\n    };\r\n    invoice.items.push(this.state.item);\r\n    this.setState({ invoice }, () => this.setDefaultValue());\r\n  };\r\n\r\n  saveInvoice = () => {\r\n    let { invoices } = this.state;\r\n    let currentUuid = this.state.invoice.uuid;\r\n    let findObject = this.state.invoices.find((s, i) => s.uuid === currentUuid);\r\n    if (findObject) {\r\n      invoices = this.state.invoices.map((item) => {\r\n        if (item.uuid === currentUuid) {\r\n          return Object.assign({}, item, this.state.invoice);\r\n        }\r\n        return item;\r\n      });\r\n      this.setState({ invoices: invoices });\r\n    } else {\r\n      invoices.unshift(this.state.invoice);\r\n      this.setState({\r\n        invoices: invoices,\r\n      });\r\n    }\r\n    localStorage.setItem(\"invoices\", JSON.stringify(invoices));\r\n  };\r\n\r\n  getAmount(item) {\r\n    const { quantity, rate, gst } = item;\r\n    let totalAmount = quantity * rate;\r\n    let gstAmount = totalAmount * (gst / 100);\r\n    let grossAmount = (Number(totalAmount) + Number(gstAmount)).toFixed(2);\r\n    item.amount = grossAmount;\r\n    return grossAmount;\r\n  }\r\n\r\n  onImageChange = (e) => {\r\n    // this / e.target is current target element.\r\n    // stops the browser from redirecting.\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    var files = e.target.files;\r\n    var fileCount = files.length;\r\n    var i;\r\n    if (fileCount > 0) {\r\n      for (i = 0; i < fileCount; i = i + 1) {\r\n        var file = files[i];\r\n        // var name = file.name;\r\n        // var size = this.bytesToSize(file.size);\r\n        var reader = new FileReader();\r\n        var state = { ...this.state };\r\n        var self = this;\r\n        // eslint-disable-next-line no-loop-func\r\n        reader.onload = function (e) {\r\n          state.invoice.imgSrc = e.target.result;\r\n          self.setState({\r\n            state,\r\n          });\r\n        };\r\n        reader.readAsDataURL(file);\r\n        this.setState({\r\n          state,\r\n        });\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  downloadInvoice = (obj) => {\r\n    pdfExport.downloadInvoice(obj);\r\n  };\r\n\r\n  openInvoice = (obj) => {\r\n    pdfExport.openInvoice(obj);\r\n  };\r\n\r\n  printInvoice = (obj) => {\r\n    pdfExport.printInvoice(obj);\r\n  };\r\n}\r\n\r\nexport default InvoiceGenerator;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import pdfMake from \"pdfmake/build/pdfmake\";\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nclass pdfExport {\r\n  static defaultSettings = localStorage.getItem(\"defaultSettings\")\r\n    ? JSON.parse(localStorage.getItem(\"defaultSettings\"))\r\n    : {\r\n        imgSrc: \"\",\r\n        invoiceFrom: \"\",\r\n        terms: \"\",\r\n        defaultTemplate: \"temp1\",\r\n      };\r\n\r\n  static docDefinition = localStorage.getItem(\"docDefinition\")\r\n    ? JSON.parse(localStorage.getItem(\"docDefinition\"))\r\n    : {\r\n        backgroundColor: \"#0069D9\",\r\n        watermark: {\r\n          text: \"\",\r\n          opacity: 0.3,\r\n          bold: false,\r\n          italics: false,\r\n        },\r\n        pageSize: \"A4\",\r\n        pageOrientation: \"portrait\",\r\n      };\r\n\r\n  static setSettings = () => {\r\n    if (localStorage.getItem(\"defaultSettings\")) {\r\n      this.defaultSettings = JSON.parse(\r\n        localStorage.getItem(\"defaultSettings\")\r\n      );\r\n    }\r\n    if (localStorage.getItem(\"docDefinition\")) {\r\n      this.docDefinition = JSON.parse(localStorage.getItem(\"docDefinition\"));\r\n    }\r\n  };\r\n\r\n  static downloadInvoice = (obj) => {\r\n    this.setSettings();\r\n    let docDefinition = this.getTemplateWithDef(obj);\r\n    pdfMake.createPdf(docDefinition).download(\"Invoice No#\" + obj.invoiceNo);\r\n  };\r\n\r\n  static openInvoice = (obj) => {\r\n    this.setSettings();\r\n    let docDefinition = this.getTemplateWithDef(obj);\r\n    pdfMake.createPdf(docDefinition).open();\r\n  };\r\n\r\n  static printInvoice = (obj) => {\r\n    this.setSettings();\r\n    let docDefinition = this.getTemplateWithDef(obj);\r\n    pdfMake.createPdf(docDefinition).print();\r\n  };\r\n\r\n  static getSubtotal = (items) =>\r\n    items\r\n      .reduce((sum, item) => Number(sum) + Number(item.amount), 0)\r\n      .toFixed(2);\r\n\r\n  static getTotal = (items, discounts, shipping) =>\r\n    (\r\n      this.getSubtotal(items) -\r\n      Number(discounts || 0) +\r\n      Number(shipping || 0)\r\n    ).toFixed(2);\r\n\r\n  static getTemplateWithDef = (obj) => {\r\n    let docDef = null;\r\n    switch (this.defaultSettings.defaultTemplate) {\r\n      case \"temp1\":\r\n        docDef = this.generateDocDef(obj);\r\n        break;\r\n      case \"temp2\":\r\n        docDef = this.generateDocDefTemplate2(obj);\r\n        break;\r\n      case \"temp3\":\r\n        docDef = this.generateDocDefTemplate3(obj);\r\n        break;\r\n      case \"temp4\":\r\n        docDef = this.generateDocDefTemplate4(obj);\r\n        break;\r\n      case \"temp5\":\r\n        docDef = this.generateDocDefTemplate5(obj);\r\n        break;\r\n      default:\r\n        docDef = this.generateDocDef(obj);\r\n        break;\r\n    }\r\n    // TODO: Remove on prod (This for purpose only)\r\n    // docDef.watermark.text = \"DEMO\";\r\n    // docDef.watermark.opacity = 0.5;\r\n    // END TODO\r\n    return docDef;\r\n  };\r\n  // Template 1 (Default)\r\n  static generateDocDef = (obj) => {\r\n    const { backgroundColor, watermark, pageSize, pageOrientation } =\r\n      this.docDefinition;\r\n    let itemBody = [\r\n      [\r\n        { text: \"#\", style: \"tableHeader\" },\r\n        { text: \"Item\", style: \"tableHeader\" },\r\n        { text: \"Qty\", style: \"tableHeader\", alignment: \"center\" },\r\n        { text: \"Rate\", style: \"tableHeader\", alignment: \"right\" },\r\n        { text: \"GST\", style: \"tableHeader\", alignment: \"center\" },\r\n        { text: \"Amount\", style: \"tableHeader\", alignment: \"right\" },\r\n      ],\r\n    ];\r\n    let itemArr = [\"\", \"\", \"\", \"\", \"\", \"\"];\r\n    if (obj.items.length === 0) itemBody.push(itemArr);\r\n    for (let index = 0; index < obj.items.length; index++) {\r\n      const element = obj.items[index];\r\n      itemBody.push([\r\n        index + 1,\r\n        element.title,\r\n        { text: element.quantity, alignment: \"center\" },\r\n        { text: element.rate, alignment: \"right\" },\r\n        { text: element.gst, alignment: \"center\" },\r\n        { text: element.amount, alignment: \"right\" },\r\n      ]);\r\n    }\r\n    var docDefinition = {\r\n      pageSize: pageSize,\r\n      pageOrientation: pageOrientation,\r\n      watermark: {\r\n        text: watermark.text,\r\n        color: backgroundColor,\r\n        opacity: Number(watermark.opacity),\r\n        bold: watermark.bold,\r\n        italics: watermark.italics,\r\n      },\r\n      info: {\r\n        title: \"Invoice No#\" + obj.invoiceNo,\r\n        author: \"Bhaumik Patel\",\r\n        subject: \"Invoice No#\" + obj.invoiceNo,\r\n        keywords: \"Invoice No#\" + obj.invoiceNo,\r\n      },\r\n      footer: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 0,\r\n                w: pageSize.width,\r\n                h: 5,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            table: {\r\n              widths: [\"80%\", \"20%\"],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: obj.footNote,\r\n                    alignment: \"left\",\r\n                    fontSize: 7,\r\n                    margin: [40, 0, 0, 0],\r\n                  },\r\n                  {\r\n                    text:\r\n                      \"Page \" +\r\n                      currentPage.toString() +\r\n                      \" of \" +\r\n                      pageCount +\r\n                      \"   \",\r\n                    alignment: \"right\",\r\n                    margin: [0, 10, 40, 0],\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n            layout: \"noBorders\",\r\n          },\r\n        ];\r\n      },\r\n      header: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 10,\r\n                w: pageSize.width,\r\n                h: 15,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n      content: [\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  image: obj.imgSrc\r\n                    ? obj.imgSrc\r\n                    : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\r\n                  width: 100,\r\n                  height: 100,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: \"Invoice No: #\" + obj.invoiceNo,\r\n                  fontSize: 15,\r\n                  bold: true,\r\n                  alignment: \"right\",\r\n                  lineHeight: 1.2,\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Invoice Date: \" + obj.invoiceDate,\r\n                  alignment: \"right\",\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Due Date: \" + obj.dueDate,\r\n                  alignment: \"right\",\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          style: \"tableExample\",\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\"],\r\n            // dontBreakRows: true,\r\n            // keepWithHeaderRows: 1,\r\n            body: [\r\n              [\r\n                { text: \"Bill From\", style: \"tableHeader\" },\r\n                { text: \"Bill For\", style: \"tableHeader\" },\r\n              ],\r\n              [obj.invoiceFrom, obj.invoiceTo],\r\n            ],\r\n          },\r\n          layout: {\r\n            fillColor: function (rowIndex, node, columnIndex) {\r\n              return rowIndex === 0 ? \"#CCCCCC\" : null;\r\n            },\r\n          },\r\n        },\r\n        {\r\n          style: \"tableExample\",\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\", 50, 60, 30, 80],\r\n            // keepWithHeaderRows: 1,\r\n            body: itemBody,\r\n          },\r\n          layout: \"lightHorizontalLines\",\r\n        },\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: obj.terms !== \"\" ? \"Terms\\n\" + obj.terms : \"\",\r\n                  fontSize: 10,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  width: \"*\",\r\n                  text: [\r\n                    {\r\n                      text: \"Subtotal\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Discounts\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Shipping\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      canvas: [\r\n                        {\r\n                          type: \"line\",\r\n                          x1: 0,\r\n                          y1: 5,\r\n                          x2: 250,\r\n                          y2: 5,\r\n                          lineWidth: 3,\r\n                        },\r\n                      ],\r\n                    },\r\n                    {\r\n                      text: \"Total (\" + (obj.currency || \"USD\") + \")\",\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                    },\r\n                  ],\r\n                },\r\n                {\r\n                  width: \"auto\",\r\n                  text: [\r\n                    {\r\n                      text: this.getSubtotal(obj.items),\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text:\r\n                        obj.discounts > 0 ? \"-\" + obj.discounts : obj.discounts,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: obj.shipping,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: this.getTotal(\r\n                        obj.items,\r\n                        obj.discounts,\r\n                        obj.shipping\r\n                      ),\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 18,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        subheader: {\r\n          fontSize: 16,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5],\r\n        },\r\n        tableExample: {\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: \"black\",\r\n        },\r\n      },\r\n      defaultStyle: {\r\n        columnGap: 15,\r\n      },\r\n    };\r\n\r\n    return docDefinition;\r\n  };\r\n\r\n  // Template 2\r\n  static generateDocDefTemplate2 = (obj) => {\r\n    const { backgroundColor, watermark, pageSize, pageOrientation } =\r\n      this.docDefinition;\r\n    let itemBody = [\r\n      [\r\n        { text: \"#\", style: \"tableHeader\", alignment: \"right\", color: \"white\" },\r\n        { text: \"Item\", style: \"tableHeader\", color: \"white\" },\r\n        {\r\n          text: \"Qty\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Rate\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"GST\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Amount\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n      ],\r\n    ];\r\n    let itemArr = [\"\", \"\", \"\", \"\", \"\", \"\"];\r\n    if (obj.items.length === 0) itemBody.push(itemArr);\r\n    for (let index = 0; index < obj.items.length; index++) {\r\n      const element = obj.items[index];\r\n      itemBody.push([\r\n        { text: index + 1, alignment: \"right\" },\r\n        element.title,\r\n        { text: element.quantity, alignment: \"center\" },\r\n        { text: element.rate, alignment: \"right\" },\r\n        { text: element.gst, alignment: \"center\" },\r\n        { text: element.amount, alignment: \"right\" },\r\n      ]);\r\n    }\r\n    pdfMake.tableLayouts = {\r\n      exampleLayout: {\r\n        hLineWidth: function (i, node) {\r\n          if (i === 0 || i === node.table.body.length) {\r\n            return 0;\r\n          }\r\n          return i === node.table.headerRows ? 2 : 1;\r\n        },\r\n        vLineWidth: function (i) {\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          return i === 1 ? \"black\" : \"#aaa\";\r\n        },\r\n        fillColor: function (i, node) {\r\n          return i === 0 ? backgroundColor : i % 2 === 0 ? \"#CCCCCC\" : null;\r\n        },\r\n        paddingLeft: function (i) {\r\n          return i === 0 ? 8 : 8;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          //return i === node.table.widths.length - 1 ? 0 : 8;\r\n          return 3;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        },\r\n      },\r\n    };\r\n    var docDefinition = {\r\n      pageSize: pageSize,\r\n      pageOrientation: pageOrientation,\r\n      watermark: {\r\n        text: watermark.text,\r\n        color: backgroundColor,\r\n        opacity: Number(watermark.opacity),\r\n        bold: watermark.bold,\r\n        italics: watermark.italics,\r\n      },\r\n      info: {\r\n        title: \"Invoice No#\" + obj.invoiceNo,\r\n        author: \"Bhaumik Patel\",\r\n        subject: \"Invoice No#\" + obj.invoiceNo,\r\n        keywords: \"Invoice No#\" + obj.invoiceNo,\r\n      },\r\n      footer: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 0,\r\n                w: pageSize.width,\r\n                h: 3,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            table: {\r\n              widths: [\"80%\", \"20%\"],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: obj.footNote,\r\n                    alignment: \"left\",\r\n                    fontSize: 7,\r\n                    margin: [40, 0, 0, 0],\r\n                  },\r\n                  {\r\n                    text:\r\n                      \"Page \" +\r\n                      currentPage.toString() +\r\n                      \" of \" +\r\n                      pageCount +\r\n                      \"   \",\r\n                    alignment: \"right\",\r\n                    margin: [0, 10, 40, 0],\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n            layout: \"noBorders\",\r\n          },\r\n        ];\r\n      },\r\n      header: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 10,\r\n                w: pageSize.width,\r\n                h: 3,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n      content: [\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  image: obj.imgSrc\r\n                    ? obj.imgSrc\r\n                    : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\r\n                  width: 100,\r\n                  height: 100,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: obj.invoiceFrom,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: \"Invoice No: #\" + obj.invoiceNo,\r\n                  fontSize: 15,\r\n                  bold: true,\r\n                  alignment: \"right\",\r\n                  lineHeight: 1.2,\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Invoice Date: \" + obj.invoiceDate,\r\n                  alignment: \"right\",\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Due Date: \" + obj.dueDate,\r\n                  alignment: \"right\",\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n\r\n        \"\\nBill To\",\r\n        {\r\n          canvas: [\r\n            { type: \"line\", x1: 0, y1: 0, x2: 515, y2: 0, lineWidth: 1 },\r\n          ],\r\n        },\r\n        obj.invoiceTo,\r\n        \"\\n\",\r\n        {\r\n          style: \"tableExample\",\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\", 50, 60, 30, 80],\r\n            // keepWithHeaderRows: 1,\r\n            body: itemBody,\r\n          },\r\n          layout: \"exampleLayout\",\r\n          dontBreakRows: true,\r\n        },\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: \"\",\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  width: \"*\",\r\n                  text: [\r\n                    {\r\n                      text: \"Subtotal\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Discounts\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Shipping\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"\\t\\t\\tTotal (\" + (obj.currency || \"USD\") + \")\",\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                      background: backgroundColor,\r\n                      color: \"#FFF\",\r\n                    },\r\n                  ],\r\n                },\r\n                {\r\n                  width: \"auto\",\r\n                  text: [\r\n                    {\r\n                      text: this.getSubtotal(obj.items),\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text:\r\n                        obj.discounts > 0 ? \"-\" + obj.discounts : obj.discounts,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: obj.shipping,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: this.getTotal(\r\n                        obj.items,\r\n                        obj.discounts,\r\n                        obj.shipping\r\n                      ),\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                      background: backgroundColor,\r\n                      color: \"#FFF\",\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          text: [\r\n            {\r\n              text: obj.terms !== \"\" ? \"\\nTerms\\n\" + obj.terms : \"\",\r\n              fontSize: 10,\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 18,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        subheader: {\r\n          fontSize: 16,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5],\r\n        },\r\n        tableExample: {\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: \"black\",\r\n        },\r\n      },\r\n      defaultStyle: {\r\n        columnGap: 15,\r\n      },\r\n    };\r\n\r\n    return docDefinition;\r\n  };\r\n\r\n  // Template 3\r\n  static generateDocDefTemplate3 = (obj) => {\r\n    const { backgroundColor, watermark, pageSize, pageOrientation } =\r\n      this.docDefinition;\r\n    let itemBody = [\r\n      [\r\n        { text: \"#\", style: \"tableHeader\", alignment: \"right\", color: \"white\" },\r\n        { text: \"Item\", style: \"tableHeader\", color: \"white\" },\r\n        {\r\n          text: \"Qty\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Rate\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"GST\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Amount\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n      ],\r\n    ];\r\n    let itemArr = [\"\", \"\", \"\", \"\", \"\", \"\"];\r\n    if (obj.items.length === 0) itemBody.push(itemArr);\r\n    for (let index = 0; index < obj.items.length; index++) {\r\n      const element = obj.items[index];\r\n      itemBody.push([\r\n        { text: index + 1, alignment: \"right\" },\r\n        element.title,\r\n        { text: element.quantity, alignment: \"center\" },\r\n        { text: element.rate, alignment: \"right\" },\r\n        { text: element.gst, alignment: \"center\" },\r\n        { text: element.amount, alignment: \"right\" },\r\n      ]);\r\n    }\r\n    pdfMake.tableLayouts = {\r\n      totalLayout: {\r\n        hLineWidth: function (i, node) {\r\n          return 1;\r\n        },\r\n        vLineWidth: function (i) {\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          return \"#aaa\";\r\n        },\r\n        fillColor: function (i, node) {\r\n          return i === 0 ? \"#e8e8e8\" : i % 2 === 0 ? \"#e8e8e8\" : null;\r\n        },\r\n        paddingLeft: function (i) {\r\n          return i === 0 ? 8 : 8;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          //return i === node.table.widths.length - 1 ? 0 : 8;\r\n          return 3;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        },\r\n      },\r\n      exampleLayout: {\r\n        hLineWidth: function (i, node) {\r\n          if (i === 0 || i === node.table.body.length) {\r\n            return 0;\r\n          }\r\n          return i === node.table.headerRows ? 2 : 1;\r\n        },\r\n        vLineWidth: function (i) {\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          return i === 1 ? \"black\" : \"#aaa\";\r\n        },\r\n        fillColor: function (i, node) {\r\n          return i === 0 ? backgroundColor : i % 2 === 0 ? \"#e8e8e8\" : null;\r\n        },\r\n        paddingLeft: function (i) {\r\n          return i === 0 ? 8 : 8;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          //return i === node.table.widths.length - 1 ? 0 : 8;\r\n          return 3;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        },\r\n      },\r\n    };\r\n    // -- Set the report date for display only.\r\n    let reportDate = new Date().toDateString();\r\n    var docDefinition = {\r\n      pageSize: pageSize,\r\n      pageOrientation: pageOrientation,\r\n      watermark: {\r\n        text: watermark.text,\r\n        color: backgroundColor,\r\n        opacity: Number(watermark.opacity),\r\n        bold: watermark.bold,\r\n        italics: watermark.italics,\r\n      },\r\n      info: {\r\n        title: \"Invoice No#\" + obj.invoiceNo,\r\n        author: \"Bhaumik Patel\",\r\n        subject: \"Invoice No#\" + obj.invoiceNo,\r\n        keywords: \"Invoice No#\" + obj.invoiceNo,\r\n      },\r\n      footer: function (currentPage, pageCount, pageSize) {\r\n        return {\r\n          text: `${reportDate} : Page ${currentPage.toString()} of ${pageCount.toString()}`,\r\n          alignment: \"center\",\r\n          fontSize: 7,\r\n        };\r\n      },\r\n      header: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 10,\r\n                w: pageSize.width,\r\n                h: 3,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n      content: [\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: obj.invoiceFrom,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  image: obj.imgSrc\r\n                    ? obj.imgSrc\r\n                    : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\r\n                  width: 100,\r\n                  height: 100,\r\n                },\r\n              ],\r\n            },\r\n\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: \"Invoice No: #\" + obj.invoiceNo,\r\n                  fontSize: 15,\r\n                  bold: true,\r\n                  alignment: \"right\",\r\n                  lineHeight: 1.2,\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Invoice Date: \" + obj.invoiceDate,\r\n                  alignment: \"right\",\r\n                },\r\n                \"\\n\",\r\n                {\r\n                  text: \"Due Date: \" + obj.dueDate,\r\n                  alignment: \"right\",\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          layout: \"lightHorizontalLines\", // optional\r\n          table: {\r\n            // headers are automatically repeated if the table spans over multiple pages\r\n            // you can declare how many rows should be treated as headers\r\n            headerRows: 1,\r\n            widths: [\"*\"],\r\n\r\n            body: [\r\n              [{ text: \"Bill To\", bold: true, fillColor: \"#F9F9F9\" }],\r\n              [{ text: obj.invoiceTo, fillColor: \"#F9F9F9\" }],\r\n            ],\r\n          },\r\n        },\r\n        \"\\n\",\r\n        {\r\n          margin: [0, 0, 0, 0],\r\n          layout: \"exampleLayout\",\r\n          dontBreakRows: true,\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\", 50, 60, 30, 80],\r\n            // keepWithHeaderRows: 1,\r\n            body: itemBody,\r\n          },\r\n        },\r\n\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: \"\",\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  layout: \"totalLayout\",\r\n                  table: {\r\n                    // headers are automatically repeated if the table spans over multiple pages\r\n                    // you can declare how many rows should be treated as headers\r\n                    headerRows: 0,\r\n                    widths: [\"*\", 80],\r\n\r\n                    body: [\r\n                      [\r\n                        { text: \"Subtotal\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text: this.getSubtotal(obj.items),\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        { text: \"Discounts\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text:\r\n                            obj.discounts > 0\r\n                              ? \"-\" + obj.discounts\r\n                              : obj.discounts,\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        { text: \"Shipping\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text: obj.shipping,\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        {\r\n                          text: \"Total (\" + (obj.currency || \"USD\") + \")\",\r\n                          bold: true,\r\n                          alignment: \"right\",\r\n                        },\r\n                        {\r\n                          text: this.getTotal(\r\n                            obj.items,\r\n                            obj.discounts,\r\n                            obj.shipping\r\n                          ),\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          stack: [\r\n            {\r\n              text: obj.terms !== \"\" ? \"\\nTerms\\n\" + obj.terms : \"\",\r\n              fontSize: 10,\r\n            },\r\n            \"\\n\\n\\n\\n\\n\",\r\n            { text: \"Signature / Stamp\", color: backgroundColor },\r\n            { text: \"Place: \" },\r\n            { text: \"Date: \" },\r\n          ],\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 18,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        subheader: {\r\n          fontSize: 16,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5],\r\n        },\r\n        tableExample: {\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: \"black\",\r\n        },\r\n      },\r\n      defaultStyle: {\r\n        columnGap: 15,\r\n      },\r\n    };\r\n\r\n    return docDefinition;\r\n  };\r\n\r\n  // Template 4\r\n  static generateDocDefTemplate4 = (obj) => {\r\n    const { backgroundColor, watermark, pageSize, pageOrientation } =\r\n      this.docDefinition;\r\n    let itemBody = [\r\n      [\r\n        { text: \"#\", style: \"tableHeader\", alignment: \"right\", color: \"white\" },\r\n        { text: \"Item\", style: \"tableHeader\", color: \"white\" },\r\n        {\r\n          text: \"Qty\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Rate\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"GST\",\r\n          style: \"tableHeader\",\r\n          alignment: \"center\",\r\n          color: \"white\",\r\n        },\r\n        {\r\n          text: \"Amount\",\r\n          style: \"tableHeader\",\r\n          alignment: \"right\",\r\n          color: \"white\",\r\n        },\r\n      ],\r\n    ];\r\n    let itemArr = [\"\", \"\", \"\", \"\", \"\", \"\"];\r\n    if (obj.items.length === 0) itemBody.push(itemArr);\r\n    for (let index = 0; index < obj.items.length; index++) {\r\n      const element = obj.items[index];\r\n      itemBody.push([\r\n        { text: index + 1, alignment: \"right\" },\r\n        element.title,\r\n        { text: element.quantity, alignment: \"center\" },\r\n        { text: element.rate, alignment: \"right\" },\r\n        { text: element.gst, alignment: \"center\" },\r\n        { text: element.amount, alignment: \"right\" },\r\n      ]);\r\n    }\r\n    pdfMake.tableLayouts = {\r\n      totalLayout: {\r\n        hLineWidth: function (i, node) {\r\n          return 1;\r\n        },\r\n        vLineWidth: function (i) {\r\n          return 0;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          return \"#aaa\";\r\n        },\r\n        fillColor: function (i, node) {\r\n          return i === 0 ? \"#e8e8e8\" : i % 2 === 0 ? \"#e8e8e8\" : null;\r\n        },\r\n        paddingLeft: function (i) {\r\n          return i === 0 ? 8 : 8;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          //return i === node.table.widths.length - 1 ? 0 : 8;\r\n          return 3;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        },\r\n      },\r\n      exampleLayout: {\r\n        hLineWidth: function (i, node) {\r\n          if (i === 0 || i === node.table.body.length) {\r\n            return 1;\r\n          }\r\n          return i === node.table.headerRows ? 2 : 1;\r\n        },\r\n        vLineWidth: function (i) {\r\n          return 1;\r\n        },\r\n        hLineColor: function (i, node) {\r\n          if (i === 0 || i === node.table.body.length) {\r\n            return \"black\";\r\n          }\r\n          return i === 1 ? \"black\" : \"#aaa\";\r\n        },\r\n        fillColor: function (i, node) {\r\n          return i === 0 ? backgroundColor : i % 2 === 0 ? \"#e8e8e8\" : null;\r\n        },\r\n        paddingLeft: function (i) {\r\n          return i === 0 ? 8 : 8;\r\n        },\r\n        paddingRight: function (i, node) {\r\n          //return i === node.table.widths.length - 1 ? 0 : 8;\r\n          return 3;\r\n        },\r\n        paddingTop: function (i, node) {\r\n          return 3;\r\n        },\r\n        paddingBottom: function (i, node) {\r\n          return 3;\r\n        },\r\n      },\r\n    };\r\n    // -- Set the report date for display only.\r\n    let reportDate = new Date().toDateString();\r\n    var docDefinition = {\r\n      pageSize: pageSize,\r\n      pageOrientation: pageOrientation,\r\n      watermark: {\r\n        text: watermark.text,\r\n        color: backgroundColor,\r\n        opacity: Number(watermark.opacity),\r\n        bold: watermark.bold,\r\n        italics: watermark.italics,\r\n      },\r\n      info: {\r\n        title: \"Invoice No#\" + obj.invoiceNo,\r\n        author: \"Bhaumik Patel\",\r\n        subject: \"Invoice No#\" + obj.invoiceNo,\r\n        keywords: \"Invoice No#\" + obj.invoiceNo,\r\n      },\r\n      footer: function (currentPage, pageCount, pageSize) {\r\n        return {\r\n          text: `${reportDate} : Page ${currentPage.toString()} of ${pageCount.toString()}`,\r\n          alignment: \"center\",\r\n          fontSize: 8,\r\n        };\r\n      },\r\n      header: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 10,\r\n                w: pageSize.width,\r\n                h: 3,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n      content: [\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: obj.invoiceFrom,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  image: obj.imgSrc\r\n                    ? obj.imgSrc\r\n                    : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\r\n                  width: 100,\r\n                  height: 100,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              text: [\r\n                {\r\n                  text: obj.invoiceTo,\r\n                  alignment: \"right\",\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: \"Invoice No: #\" + obj.invoiceNo,\r\n                  fontSize: 15,\r\n                  bold: true,\r\n                  lineHeight: 1.2,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              text: \"Invoice Date: \" + obj.invoiceDate,\r\n              alignment: \"right\",\r\n            },\r\n            {\r\n              text: \"Due Date: \" + obj.dueDate,\r\n              alignment: \"right\",\r\n            },\r\n          ],\r\n        },\r\n\r\n        \"\\n\",\r\n        {\r\n          margin: [0, 0, 0, 0],\r\n          layout: \"exampleLayout\",\r\n          dontBreakRows: true,\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\", 50, 60, 30, 80],\r\n            // keepWithHeaderRows: 1,\r\n            body: itemBody,\r\n          },\r\n        },\r\n\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: \"\",\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  layout: \"totalLayout\",\r\n                  table: {\r\n                    // headers are automatically repeated if the table spans over multiple pages\r\n                    // you can declare how many rows should be treated as headers\r\n                    headerRows: 0,\r\n                    widths: [\"*\", 80],\r\n\r\n                    body: [\r\n                      [\r\n                        { text: \"Subtotal\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text: this.getSubtotal(obj.items),\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        { text: \"Discounts\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text:\r\n                            obj.discounts > 0\r\n                              ? \"-\" + obj.discounts\r\n                              : obj.discounts,\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        { text: \"Shipping\", bold: true, alignment: \"right\" },\r\n                        {\r\n                          text: obj.shipping,\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                      [\r\n                        {\r\n                          text: \"Total (\" + (obj.currency || \"USD\") + \")\",\r\n                          bold: true,\r\n                          alignment: \"right\",\r\n                        },\r\n                        {\r\n                          text: this.getTotal(\r\n                            obj.items,\r\n                            obj.discounts,\r\n                            obj.shipping\r\n                          ),\r\n                          bold: false,\r\n                          alignment: \"right\",\r\n                        },\r\n                      ],\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          stack: [\r\n            {\r\n              text: obj.terms !== \"\" ? \"\\nTerms\\n\" + obj.terms : \"\",\r\n              fontSize: 10,\r\n            },\r\n            \"\\n\\n\\n\\n\",\r\n            {\r\n              canvas: [\r\n                {\r\n                  type: \"line\",\r\n                  x1: 0,\r\n                  y1: 5,\r\n                  x2: 250,\r\n                  y2: 5,\r\n                  lineWidth: 1,\r\n                },\r\n              ],\r\n            },\r\n            { text: \"Signature / Stamp\", color: backgroundColor },\r\n            { text: \"Place: \" },\r\n            { text: \"Date: \" },\r\n          ],\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 18,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        subheader: {\r\n          fontSize: 16,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5],\r\n        },\r\n        tableExample: {\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: \"black\",\r\n        },\r\n      },\r\n      defaultStyle: {\r\n        columnGap: 15,\r\n      },\r\n    };\r\n\r\n    return docDefinition;\r\n  };\r\n\r\n  // Template 5\r\n  static generateDocDefTemplate5 = (obj) => {\r\n    const { backgroundColor, watermark, pageSize, pageOrientation } =\r\n      this.docDefinition;\r\n    let itemBody = [\r\n      [\r\n        { text: \"#\", style: \"tableHeader\" },\r\n        { text: \"Item\", style: \"tableHeader\" },\r\n        { text: \"Qty\", style: \"tableHeader\", alignment: \"center\" },\r\n        { text: \"Rate\", style: \"tableHeader\", alignment: \"right\" },\r\n        { text: \"GST\", style: \"tableHeader\", alignment: \"center\" },\r\n        { text: \"Amount\", style: \"tableHeader\", alignment: \"right\" },\r\n      ],\r\n    ];\r\n    let itemArr = [\"\", \"\", \"\", \"\", \"\", \"\"];\r\n    if (obj.items.length === 0) itemBody.push(itemArr);\r\n    for (let index = 0; index < obj.items.length; index++) {\r\n      const element = obj.items[index];\r\n      itemBody.push([\r\n        index + 1,\r\n        element.title,\r\n        { text: element.quantity, alignment: \"center\" },\r\n        { text: element.rate, alignment: \"right\" },\r\n        { text: element.gst, alignment: \"center\" },\r\n        { text: element.amount, alignment: \"right\" },\r\n      ]);\r\n    }\r\n    var docDefinition = {\r\n      pageSize: pageSize,\r\n      pageOrientation: pageOrientation,\r\n      watermark: {\r\n        text: watermark.text,\r\n        color: backgroundColor,\r\n        opacity: Number(watermark.opacity),\r\n        bold: watermark.bold,\r\n        italics: watermark.italics,\r\n      },\r\n      info: {\r\n        title: \"Invoice No#\" + obj.invoiceNo,\r\n        author: \"Bhaumik Patel\",\r\n        subject: \"Invoice No#\" + obj.invoiceNo,\r\n        keywords: \"Invoice No#\" + obj.invoiceNo,\r\n      },\r\n      footer: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 0,\r\n                w: pageSize.width,\r\n                h: 5,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            table: {\r\n              widths: [\"80%\", \"20%\"],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: obj.footNote,\r\n                    alignment: \"left\",\r\n                    fontSize: 7,\r\n                    margin: [40, 0, 0, 0],\r\n                  },\r\n                  {\r\n                    text:\r\n                      \"Page \" +\r\n                      currentPage.toString() +\r\n                      \" of \" +\r\n                      pageCount +\r\n                      \"   \",\r\n                    alignment: \"right\",\r\n                    margin: [0, 10, 40, 0],\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n            layout: \"noBorders\",\r\n          },\r\n        ];\r\n      },\r\n      pageMargins: [40, 85, 40, 40],\r\n      header: function (currentPage, pageCount, pageSize) {\r\n        return [\r\n          {\r\n            table: {\r\n              widths: [\"50%\", \"50%\"],\r\n              body: [\r\n                [\r\n                  {\r\n                    image: obj.imgSrc\r\n                      ? obj.imgSrc\r\n                      : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\r\n                    width: 70,\r\n                    height: 50,\r\n                    margin: [40, 10, 0, 0],\r\n                  },\r\n                  {\r\n                    margin: [40, 10, 40, 0],\r\n                    text: [\r\n                      {\r\n                        text: \"Invoice No: #\" + obj.invoiceNo,\r\n                        fontSize: 15,\r\n                        bold: true,\r\n                        alignment: \"right\",\r\n                        lineHeight: 1.2,\r\n                      },\r\n                      \"\\n\",\r\n                      {\r\n                        text: \"Invoice Date: \" + obj.invoiceDate,\r\n                        alignment: \"right\",\r\n                      },\r\n                      \"\\n\",\r\n                      {\r\n                        text: \"Due Date: \" + obj.dueDate,\r\n                        alignment: \"right\",\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n            layout: \"noBorders\",\r\n          },\r\n          {\r\n            canvas: [\r\n              {\r\n                type: \"rect\",\r\n                x: 0,\r\n                y: 0,\r\n                w: pageSize.width,\r\n                h: 5,\r\n                color: backgroundColor,\r\n              },\r\n            ],\r\n          },\r\n        ];\r\n      },\r\n      content: [\r\n        {\r\n          style: \"tableExample\",\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\"],\r\n            // dontBreakRows: true,\r\n            // keepWithHeaderRows: 1,\r\n            body: [\r\n              [\r\n                { text: \"Bill From\", style: \"tableHeader\" },\r\n                { text: \"Bill For\", style: \"tableHeader\" },\r\n              ],\r\n              [obj.invoiceFrom, obj.invoiceTo],\r\n            ],\r\n          },\r\n          layout: {\r\n            fillColor: function (rowIndex, node, columnIndex) {\r\n              return rowIndex === 0 ? \"#CCCCCC\" : null;\r\n            },\r\n          },\r\n        },\r\n        {\r\n          style: \"tableExample\",\r\n          table: {\r\n            headerRows: 1,\r\n            widths: [\"auto\", \"*\", 50, 60, 30, 80],\r\n            // keepWithHeaderRows: 1,\r\n            body: itemBody,\r\n          },\r\n          layout: \"lightHorizontalLines\",\r\n        },\r\n        {\r\n          columns: [\r\n            {\r\n              width: \"*\",\r\n              text: [\r\n                {\r\n                  text: obj.terms !== \"\" ? \"Terms\\n\" + obj.terms : \"\",\r\n                  fontSize: 10,\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: \"auto\",\r\n              columns: [\r\n                {\r\n                  width: \"*\",\r\n                  text: [\r\n                    {\r\n                      text: \"Subtotal\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Discounts\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: \"Shipping\",\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      canvas: [\r\n                        {\r\n                          type: \"line\",\r\n                          x1: 0,\r\n                          y1: 5,\r\n                          x2: 250,\r\n                          y2: 5,\r\n                          lineWidth: 3,\r\n                        },\r\n                      ],\r\n                    },\r\n                    {\r\n                      text: \"Total (\" + (obj.currency || \"USD\") + \")\",\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                    },\r\n                  ],\r\n                },\r\n                {\r\n                  width: \"auto\",\r\n                  text: [\r\n                    {\r\n                      text: this.getSubtotal(obj.items),\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text:\r\n                        obj.discounts > 0 ? \"-\" + obj.discounts : obj.discounts,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: obj.shipping,\r\n                      alignment: \"right\",\r\n                      lineHeight: 1.2,\r\n                    },\r\n                    \"\\n\",\r\n                    {\r\n                      text: this.getTotal(\r\n                        obj.items,\r\n                        obj.discounts,\r\n                        obj.shipping\r\n                      ),\r\n                      fontSize: 12,\r\n                      bold: true,\r\n                      alignment: \"right\",\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      styles: {\r\n        header: {\r\n          fontSize: 18,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10],\r\n        },\r\n        subheader: {\r\n          fontSize: 16,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5],\r\n        },\r\n        tableExample: {\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: \"black\",\r\n        },\r\n      },\r\n      defaultStyle: {\r\n        columnGap: 15,\r\n      },\r\n    };\r\n\r\n    return docDefinition;\r\n  };\r\n}\r\n\r\nexport default pdfExport;\r\n"],"sourceRoot":""}